var _, db, express, router;

express = require("express");

_ = require("underscore");

router = express.Router();

db = require("../models/index.js");

router.get("/hello", function(req, res) {
  return res.send('howdy dammit!');
});

router.post("/:unit_id", function(req, res) {
  var body, id;
  id = req.params.id;
  body = req.body;
  return db.Report.build({
    unit_id: id,
    blob: body
  }).save().success(function() {
    return res.send("saved!");
  });
});

router.get('/:unit_id', function(req, res) {
  return db.Report.all().success(function(reports) {
    return res.send(JSON.stringify(reports));
  });
});

module.exports = router;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxzQkFBQTs7QUFBQSxPQUFBLEdBQVUsT0FBQSxDQUFRLFNBQVIsQ0FBVixDQUFBOztBQUFBLENBQ0EsR0FBSSxPQUFBLENBQVEsWUFBUixDQURKLENBQUE7O0FBQUEsTUFFQSxHQUFTLE9BQU8sQ0FBQyxNQUFSLENBQUEsQ0FGVCxDQUFBOztBQUFBLEVBR0EsR0FBSyxPQUFBLENBQVEsb0JBQVIsQ0FITCxDQUFBOztBQUFBLE1BTU0sQ0FBQyxHQUFQLENBQVcsUUFBWCxFQUFzQixTQUFDLEdBQUQsRUFBTSxHQUFOLEdBQUE7U0FBYyxHQUFHLENBQUMsSUFBSixDQUFTLGVBQVQsRUFBZDtBQUFBLENBQXRCLENBTkEsQ0FBQTs7QUFBQSxNQVFNLENBQUMsSUFBUCxDQUFZLFdBQVosRUFBeUIsU0FBQyxHQUFELEVBQU0sR0FBTixHQUFBO0FBQ3ZCLE1BQUEsUUFBQTtBQUFBLEVBQUEsRUFBQSxHQUFLLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBaEIsQ0FBQTtBQUFBLEVBQ0EsSUFBQSxHQUFPLEdBQUcsQ0FBQyxJQURYLENBQUE7U0FFQSxFQUFFLENBQUMsTUFDRCxDQUFDLEtBREgsQ0FDUztBQUFBLElBQUMsT0FBQSxFQUFRLEVBQVQ7QUFBQSxJQUFZLElBQUEsRUFBSyxJQUFqQjtHQURULENBRUUsQ0FBQyxJQUZILENBQUEsQ0FFUyxDQUFDLE9BRlYsQ0FFa0IsU0FBQSxHQUFBO1dBQUcsR0FBRyxDQUFDLElBQUosQ0FBUyxRQUFULEVBQUg7RUFBQSxDQUZsQixFQUh1QjtBQUFBLENBQXpCLENBUkEsQ0FBQTs7QUFBQSxNQWVNLENBQUMsR0FBUCxDQUFXLFdBQVgsRUFBd0IsU0FBQyxHQUFELEVBQU0sR0FBTixHQUFBO1NBQ3BCLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBVixDQUFBLENBQWUsQ0FBQyxPQUFoQixDQUF3QixTQUFDLE9BQUQsR0FBQTtXQUV0QixHQUFHLENBQUMsSUFBSixDQUFTLElBQUksQ0FBQyxTQUFMLENBQWUsT0FBZixDQUFULEVBRnNCO0VBQUEsQ0FBeEIsRUFEb0I7QUFBQSxDQUF4QixDQWZBLENBQUE7O0FBQUEsTUFxQk0sQ0FBQyxPQUFQLEdBQWlCLE1BckJqQixDQUFBIiwiZmlsZSI6ImFwaS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKVxuXyA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpXG5yb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXG5kYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvaW5kZXguanNcIik7XG5cblxucm91dGVyLmdldCBcIi9oZWxsb1wiLCAgKHJlcSwgcmVzKSAtPiByZXMuc2VuZCgnaG93ZHkgZGFtbWl0IScpXG5cbnJvdXRlci5wb3N0IFwiLzp1bml0X2lkXCIsIChyZXEsIHJlcykgLT5cbiAgaWQgPSByZXEucGFyYW1zLmlkXG4gIGJvZHkgPSByZXEuYm9keVxuICBkYi5SZXBvcnRcbiAgICAuYnVpbGQge3VuaXRfaWQ6aWQsYmxvYjpib2R5fVxuICAgIC5zYXZlKCkuc3VjY2VzcyAtPiByZXMuc2VuZCBcInNhdmVkIVwiXG5cbnJvdXRlci5nZXQgJy86dW5pdF9pZCcsIChyZXEsIHJlcykgLT5cbiAgICBkYi5SZXBvcnQuYWxsKCkuc3VjY2VzcyAocmVwb3J0cyktPlxuICAgICAgIyByZXNwb25zZSA9Xy5tYXAgcmVwb3J0cywgKHYsayxsKS0+IFwieDogXCIrayAuam9pblxuICAgICAgcmVzLnNlbmQgSlNPTi5zdHJpbmdpZnkgcmVwb3J0c1xuXG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyXG4iXX0=